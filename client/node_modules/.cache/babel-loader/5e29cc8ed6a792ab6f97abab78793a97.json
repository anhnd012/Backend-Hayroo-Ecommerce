{"ast":null,"code":"import _toConsumableArray from\"D:\\\\API\\\\MERN_Stack_Project_Ecommerce_Hayroo-master\\\\MERN_Stack_Project_Ecommerce_Hayroo-master\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React,{Fragment,useContext,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import moment from\"moment\";import{DashboardContext}from\"./\";import{todayAllOrders}from\"./Action\";var apiURL=process.env.REACT_APP_API_URL;var SellTable=function SellTable(){var history=useHistory();var _useContext=useContext(DashboardContext),data=_useContext.data,dispatch=_useContext.dispatch;useEffect(function(){todayAllOrders(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var ordersList=function ordersList(){var newList=[];if(data.totalOrders.Orders!==undefined){data.totalOrders.Orders.forEach(function(elem){if(moment(elem.createdAt).format(\"LL\")===moment().format(\"LL\")){newList=[].concat(_toConsumableArray(newList),[elem]);}});}return newList;};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-span-1 overflow-auto bg-white shadow-lg p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-2xl font-semibold mb-6 text-center\"},\"Today's Orders\",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0),/*#__PURE__*/React.createElement(\"table\",{className:\"table-auto border w-full my-2\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Products\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Image\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Status\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Order Address\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Ordered at\"))),/*#__PURE__*/React.createElement(\"tbody\",null,data.totalOrders.Orders!==undefined?ordersList().map(function(item,key){return/*#__PURE__*/React.createElement(TodayOrderTable,{order:item,key:key});}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"5\",className:\"text-xl text-center font-semibold py-8\"},\"No orders found today\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-sm text-gray-600 mt-2\"},\"Total\",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0,\" \",\"orders found\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center\"},/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(e){return history.push(\"/admin/dashboard/orders\");},style:{background:\"#303031\"},className:\"cursor-pointer px-4 py-2 text-white rounded-full\"},\"View All\"))));};var TodayOrderTable=function TodayOrderTable(_ref){var order=_ref.order;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\"},order.allProduct.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"flex space-x-2\"},/*#__PURE__*/React.createElement(\"span\",null,item.id.pName),/*#__PURE__*/React.createElement(\"span\",null,item.quantitiy,\"x\"));})),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-left\"},order.allProduct.map(function(item,index){return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"w-12 h-12 object-cover\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(item.id.pImages[0]),alt:\"Pic\"});})),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},order.status===\"Not processed\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Processing\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Shipped\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Delivered\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Cancelled\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status)),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},order.address),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},moment(order.createdAt).format(\"lll\"))));};var TodaySell=function TodaySell(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"m-4\"},/*#__PURE__*/React.createElement(SellTable,null));};export default TodaySell;","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useHistory","moment","DashboardContext","todayAllOrders","apiURL","process","env","REACT_APP_API_URL","SellTable","history","data","dispatch","ordersList","newList","totalOrders","Orders","undefined","forEach","elem","createdAt","format","length","map","item","key","e","push","background","TodayOrderTable","order","allProduct","index","id","pName","quantitiy","pImages","status","address","TodaySell","props"],"sources":["D:/API/MERN_Stack_Project_Ecommerce_Hayroo-master/MERN_Stack_Project_Ecommerce_Hayroo-master/client/src/components/admin/dashboardAdmin/TodaySell.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { DashboardContext } from \"./\";\nimport { todayAllOrders } from \"./Action\";\n\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst SellTable = () => {\n  const history = useHistory();\n  const { data, dispatch } = useContext(DashboardContext);\n\n  useEffect(() => {\n    todayAllOrders(dispatch);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const ordersList = () => {\n    let newList = [];\n    if (data.totalOrders.Orders !== undefined) {\n      data.totalOrders.Orders.forEach(function (elem) {\n        if (moment(elem.createdAt).format(\"LL\") === moment().format(\"LL\")) {\n          newList = [...newList, elem];\n        }\n      });\n    }\n    return newList;\n  };\n\n  return (\n    <Fragment>\n      <div className=\"col-span-1 overflow-auto bg-white shadow-lg p-4\">\n        <div className=\"text-2xl font-semibold mb-6 text-center\">\n          Today's Orders{\" \"}\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}\n        </div>\n        <table className=\"table-auto border w-full my-2\">\n          <thead>\n            <tr>\n              <th className=\"px-4 py-2 border\">Products</th>\n              <th className=\"px-4 py-2 border\">Image</th>\n              <th className=\"px-4 py-2 border\">Status</th>\n              <th className=\"px-4 py-2 border\">Order Address</th>\n              <th className=\"px-4 py-2 border\">Ordered at</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.totalOrders.Orders !== undefined ? (\n              ordersList().map((item, key) => {\n                return <TodayOrderTable order={item} key={key} />;\n              })\n            ) : (\n              <tr>\n                <td\n                  colSpan=\"5\"\n                  className=\"text-xl text-center font-semibold py-8\"\n                >\n                  No orders found today\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n        <div className=\"text-sm text-gray-600 mt-2\">\n          Total{\" \"}\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}{\" \"}\n          orders found\n        </div>\n        <div className=\"flex justify-center\">\n          <span\n            onClick={(e) => history.push(\"/admin/dashboard/orders\")}\n            style={{ background: \"#303031\" }}\n            className=\"cursor-pointer px-4 py-2 text-white rounded-full\"\n          >\n            View All\n          </span>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst TodayOrderTable = ({ order }) => {\n  return (\n    <Fragment>\n      <tr>\n        <td className=\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\">\n          {order.allProduct.map((item, index) => {\n            return (\n              <div key={index} className=\"flex space-x-2\">\n                <span>{item.id.pName}</span>\n                <span>{item.quantitiy}x</span>\n              </div>\n            );\n          })}\n        </td>\n        <td className=\"p-2 text-left\">\n          {order.allProduct.map((item, index) => {\n            return (\n              <img\n                key={index}\n                className=\"w-12 h-12 object-cover\"\n                src={`${apiURL}/uploads/products/${item.id.pImages[0]}`}\n                alt=\"Pic\"\n              />\n            );\n          })}\n        </td>\n        <td className=\"p-2 text-center\">\n          {order.status === \"Not processed\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Processing\" && (\n            <span className=\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Shipped\" && (\n            <span className=\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Delivered\" && (\n            <span className=\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Cancelled\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n        </td>\n        <td className=\"p-2 text-center\">{order.address}</td>\n        <td className=\"p-2 text-center\">\n          {moment(order.createdAt).format(\"lll\")}\n        </td>\n      </tr>\n    </Fragment>\n  );\n};\n\nconst TodaySell = (props) => {\n  return (\n    <div className=\"m-4\">\n      <SellTable />\n    </div>\n  );\n};\n\nexport default TodaySell;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}